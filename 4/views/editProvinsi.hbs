{{>header}}

{{#if message}}
  <div class="alert alert-{{message.type}}" role="alert">
    {{message.message}}
  </div>
{{/if}}

{{>navbar}}

<form action="/editProvinsi" method="POST" enctype="multipart/form-data"
style="color: white; margin-top: 40px; width: 600px;
margin-left:400px;">
  <input type="hidden" name="id" value="{{provinsi.id}}"/>
  <input type="hidden" name="oldCover" value="{{provinsi.photo}}"/>
  <div class="mb-3">
    <label for="exampleInputEmail1" class="form-label">Nama</label>
    <input type="text" class="form-control" name="nama" value="{{provinsi.nama}}">
  </div>
  <div class="mb-3">
    <label for="exampleInputPassword1" class="form-label">Diresmikan</label>
    <input type="date" class="form-control" name="diresmikan" value="{{provinsi.diresmikan}}">
  </div>
  <div class="mb-3">
    <label for="exampleInputPassword1" class="form-label">Gambar</label>
    <input type="file" id="file" onchange="handleChange()" class="form-control" name="image">
    <div id="preview-cover"></div>
  </div>
    <div class="mb-3">
    <label for="exampleInputEmail1" class="form-label">Pulau</label>
    <input type="text" class="form-control" name="pulau" value="{{provinsi.pulau}}">
  </div>
  

  <button type="submit" class="w-100 btn btn-lg btn-success green">Update</button>

  <input type="hidden" id="url-cover" value="{{provinsi.photo}}">
</form>

<script>
  const previewElement = document.getElementById('preview-cover');

  const urlCover = document.getElementById('url-cover').value;
  previewElement.innerHTML = `<img src="${urlCover}" style="width: 150px;" class="mt-3"/>`
  
  function handleChange(){
    const value = URL.createObjectURL(event.target.files[0]);
    previewElement.innerHTML = `<img src="${value}" style="width: 150px;" class="mt-3"/>`
  }
</script>


{{>footer}}